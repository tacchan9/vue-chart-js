<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
</head>
<body>
<div style="width:60%">
<div id="app">
  <input type="date" v-model="date" id="select">
  <button v-on:click="day1">1day</button>
  <button v-on:click="day7">7days</button>
  <button v-on:click="day30">30days</button>
</div>
<canvas id="myChart"></canvas>
</div>
<script>
  var day1Labels = ["0:00", "1:00", "2:00", "3:00", "4:00", "5:00", "6:00", "7:00", "8:00", "9:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
  var weeksLabels = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
  var daysLables = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"];

window.onload = function() {
  var data = [12, 19, 3, 17, 6, 3, 7];
  chart(data, day1Labels);

  var app = new Vue({
    el: '#app',
    data: {
      message: '12, 19, 3, 17, 6, 3, 7',
      //date: '2018-11-06'
      date: moment().format("YYYY-MM-DD")
    },
    methods: {
      day1: function (event) {
        alert(this.message);
        var data = this.message.split(',');
        chart(data, day1Labels);
      },
      day7: function (event) {
        var selectDate = document.getElementById('select').value;
        moment(selectDate, 'YYYY-MM-DD');

        var labels = [];
        var range = 7;
        for(var i=0; i<7; i++) {
          labels[i] = moment().subtract(--range, 'days').format("YYYY-MM-DD");
        }
        var data = this.message.split(',');
        chart(data, labels);
      },
      day30: function (event) {
        var selectDate = document.getElementById('select').value;
        moment(selectDate, 'YYYY-MM-DD');

        var labels = [];
        var range = 30;
        for(var i=0; i<30; i++) {
          labels[i] = moment().subtract(--range, 'days').format("YYYY-MM-DD");
        }
        var data = this.message.split(',');
        chart(data, labels);
      }
    }
  });
};

var chart = function(data, labels) {
  var ctx = document.getElementById('myChart').getContext('2d');
  var myChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [{
        label: 'apples',
        data: data,
        backgroundColor: "rgba(153,255,51,0.4)"
      }, {
        label: 'oranges',
        data: [2, 29, 5, 5, 2, 3, 10],
        backgroundColor: "rgba(255,153,0,0.4)"
      }]
    }
  });
};

</script>

</body>
</html>